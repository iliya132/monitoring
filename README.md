# monitoring

Проектная работа к курсу otus "Java Developer. Professional"

### Тема: ___"Система мониторинга"___

### MVP
В систему мониторинга (СМ) клиент подает запрос на регистрацию определенной метрики.
При этом передает данные: название, частоту запросов, url (по которому СМ будет получать метрики)
СМ регистрирует метрику в БД.
СМ в отдельном потоке выбирает из БД все метрики, к которым нужно выполнить запрос и кладет их в очередь. Другие потоки из этой очереди метрики забирают, ходят в указанный урл, кладут результаты в БД
Клиент по запросу к СМ получает результаты метрик по заданному названию метрики за определенный промежуток времени
swagger-ui для обращения к ручкам
регистрация пользователя (метрики и системы принадлежат пользователю, другие не могут их смотреть)

Простой пример - проверка инстанса на живость. Регистрируем в СМ www.myapp.ru/ping, который возвращает 200/500/404 итп. Ответ пишется с timestamp в БД СМ. Пользователь в дальнейшем может прийти и посмотреть на динамику живости своего приложения.

### TODO (если хватит времени)
Алерты на почту/telegram
ui с графиком для метрики (в идеале с возможностью сделать дашборд для системы с несколькими метриками сразу)

### Done:

Поддержано два канала доставки метрик - джоба, которая дергает заданные url и записывающая результаты и grpc сервер    

БД для своих нужд - postgresql    
БД для метрик - influxDb    
Интерфейс для наблюдения метрик - grafana    

https://grafana.iliya132apps.ru/    
login: guest    
Password: GuestUser123    
